@model _5thSemesterProject.Models.MessageViewModel

<head>
	<link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
	<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" type="text/css" rel="stylesheet" />
	<link rel="stylesheet" href="~/Content/CSS/MessageStyles.css">


</head>
<body>
	<div class="container">
		<h3 class=" text-center">Messaging</h3>
		<div class="messaging">
			<div class="inbox_msg">
				<div class="inbox_people">
					<div class="headind_srch">
						<div class="recent_heading">
							<h4>Kollegaer</h4>
						</div>
						<div class="srch_bar">
							<div class="stylish-input-group">
								<input type="text" class="search-bar" placeholder="Search">
								<span class="input-group-addon">
									<button type="button"> <i class="fa fa-search" aria-hidden="true"></i> </button>
								</span>
							</div>
						</div>
					</div>
					<div class="inbox_chat">

					@foreach (var item in Model.employeeList)
					{
						<div class="chat_list">
							<div class="chat_people">
								<div class="chat_ib">
									<a href="@Url.Action("_MessageContent","Message", new {reciever_id = item.employee_id })">
										<h5>@Html.DisplayFor(modelItem => item.initials)</h5>
										<p>
											Employee ID: @Html.DisplayFor(modelItem => item.employee_id)
											Navn: @Html.DisplayFor(modelItem => item.firstname) @Html.DisplayFor(modelItem => item.lastname)
										</p>
									</a>
								</div>
							</div>
						</div>
					}
					</div>
				</div>


				<div class="mesgs">
					<div class="msg_history">
						<div class="incoming_msg">
							<div class="incoming_msg_img"> <img src="https://ptetutorials.com/images/user-profile.png" alt="sunil"> </div>
							<div class="received_msg">
								<div class="received_withd_msg">
								@foreach (var item in Model.messageRecieverList)
								{
									if (item.reciever_id == ViewBag.recieverId || item.sender_id == ViewBag.recieverId)
									{
									<p>
										@Html.DisplayFor(modelItem => item.sender_id): @Html.DisplayFor(modelItem => item.content)
										<span class="time_date"> @Html.DisplayFor(modelItem => item.date)</span>

									</p>
										}
									}


								</div>
							</div>
						</div>

						<div class="outgoing_msg">
							<div class="sent_msg">
								@foreach (var item in Model.messageSenderList)
								{
									if (item.reciever_id == ViewBag.recieverId || item.sender_id == ViewBag.recieverId)
									{
									<p>
										@Html.DisplayFor(modelItem => item.sender_id): @Html.DisplayFor(modelItem => item.content)
										<span class="time_date"> @Html.DisplayFor(modelItem => item.date)</span>
									</p>
									}
								}
							</div>
						</div>
						
					</div>

					<div class="type_msg">
						<div class="input_msg_write">
							@using (Html.BeginForm("postMessage", "Message", new { reciever_id = ViewBag.recieverId }))
							{
							<input type="text" class="write_msg" placeholder="Type a message" name="content" id="content" />

								<button class="msg_send_btn" type="submit"><i class="fa fa-paper-plane-o" aria-hidden="true"></i></button>
							}
						</div>
					</div>
				</div>
			</div>



		</div>
	</div>
</body>
</html>